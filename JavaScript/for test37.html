<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>for test37</title>
    <style>
        #name, #price{
            width: 100px;
            height: 30px;
        }
        .product-grid{
            margin-top: 20px;
            display: grid;
            grid-template-columns: 112px 112px 50px;
            row-gap: 10px;
        }
    </style>
</head>
<body>
    <input id="name" placeholder="輸入商品名稱">
    <input id="price" placeholder="輸入商品價格">
    <button onclick="
        addList();
    ">新增</button>

    <div class="product-grid">
        
    </div>

    <script>
        
        let list = [];
        let listprice = [];
        function addList(){
            const inputname = document.getElementById('name');  //id->get; class->quertS..
            const inputprice = document.getElementById('price');
            list.push(inputname.value); //放入陣列最後面(也可以用物件寫)
            listprice.push(inputprice.value);
            inputname.value = "";   //讓user輸完名字後自動清空
            inputprice.value = "";
            console.log(list);
            
            //創建一個包含所有商品名稱的HTML字符串
            let html = "";
            for(let i=0; i<list.length; i++){
                html = html + `
                <div>${list[i]}</div>
                <div>${listprice[i]}</div>
                <button onclick="delet();">刪除</button>
                `;
            }
            //每次執行下面這行，其實之前的商品名字都是在被覆蓋一次
            document.querySelector('div.product-grid').innerHTML = html;
        }

        function delet(){
            // 從陣列中刪除對應的商品名稱和價格
            list.pop();
            listprice.pop();

            //重新生成一個新的名字和價格的html字串
            let newhtml = "";
            for(let i=0; i<list.length; i++){
                newhtml = newhtml + `
                <div>${list[i]}</div>
                <div>${listprice[i]}</div>
                <button onclick="delet();">刪除</button>
                `;
            }
            document.querySelector('.product-grid').innerHTML = newhtml;
        }
    //      用物件方式及參數方法寫的
    //     <body>
    //     <input class="input-name" placeholder="輸入商品名稱">
    //     <input class="input-price" placeholder="輸入商品價格">
    //     <button onclick="addProduct();">新增</button>
    //     <div class="product-grid">
    //         <!-- 商品1 -->
    //         <!-- <div>海底撈泡麵</div>
    //         <div>200</div>
    //         <button>刪除</button> -->

    //         <!-- 商品2 -->
    //         <!-- <div>養氣人蔘</div>
    //         <div>400</div>
    //         <button>刪除</button> -->
    
    //     </div>
    //     <script>
    //         let products = [];
    //         function renderProducts() {
    //             let html = "";
    //             for (let i=0; i<products.length; i++) {
    //                 html += `
    //                     <div>${products[i].name}</div>
    //                     <div>${products[i].price}</div>
    //                     <button onclick="removeProduct(${i});">刪除</button>
    //                 `;
    //             }
    //             document.querySelector(".product-grid").innerHTML = html;
    //         }

    //         function addProduct() {
    //             const inputName = document.querySelector(".input-name");
    //             const inputPrice = document.querySelector(".input-price");
    //             products.push({
    //                 name: inputName.value,
    //                 price: inputPrice.value
    //             });
    //             inputName.value = "";
    //             inputPrice.value = "";
                
    //             renderProducts();
    //         }   

    //         function removeProduct(i) {
    //             products.splice(i, 1);
    //             renderProducts();
    //         }
    </script>
</body>
</html>

